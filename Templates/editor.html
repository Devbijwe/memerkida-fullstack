<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Font Awesome icons (free version)-->
    <script src="https://use.fontawesome.com/releases/v6.1.0/js/all.js" crossorigin="anonymous"></script>
    <!-- Google fonts-->
    <link href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" rel="stylesheet" type="text/css" />
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css" />
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-2.2.4.min.js"></script>
    <script src="https://cdn.rawgit.com/jackmoore/colorbox/master/jquery.colorbox-min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" />

    <link rel="icon" type="image/x-icon" href="{{ url_for('static',filename='assets/favicon.svg') }}" />
    <title>{{params['favTitle']}}</title>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <link rel="stylesheet" href="//code.jquery.com/ui/1.12.0/themes/base/jquery-ui.css">
    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
    <script src="https://code.jquery.com/ui/1.12.0/jquery-ui.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"></script>

    <style>
        * {
            margin: 0;
            padding: 0;
        }
        
        .accordion-item,
        li {
            margin: 20px auto;
        }
        
        li {
            text-align: center;
            font-size: small;
            font-weight: bolder;
        }
        
        a {
            color: black;
        }
        
        button {
            width: 50%;
            padding-left: 500px;
        }
        
        button.accordion-button {
            margin: auto;
            background: #EAECEE;
            font-size: larger;
            font-weight: bolder;
            color: black;
        }
        
        .offcanvas {
            -ms-overflow-style: none;
            /* Internet Explorer 10+ */
            scrollbar-width: none;
            /* Firefox */
        }
        
        .offcanvas::-webkit-scrollbar {
            display: none;
            /* Safari and Chrome */
        }
        
        .accordion-body,
        p,
        button {
            background: #EAECEE;
            border: none;
        }
    </style>
</head>

<body style="padding-left:250px;background:#EBF5FB;">


    <div class="offcanvas offcanvas-start show" style="width:250px; background:#EAECEE ;overflow-y:auto ;" data-bs-scroll="true" data-bs-backdrop="false" tabindex="-1" id="offcanvasScrolling" aria-labelledby="offcanvasScrollingLabel">
        <div class="offcanvas-header">
            <a class="navbar-brand" style="padding-left:50px;font-weight:bolder;font-size:x-large;" href="/">
                <!-- <img src="{{url_for('static',filename='assets/brand.png')}}" alt="" width="30" height="24" class="d-inline-block align-text-top"> -->
                <span style="font-weight:bolder ;">{{params['brandName']}}</span>
                <div><i style="font-size:x-small;font-weight:lighter;padding-left:50%;">For Admins</i></div>
            </a>

        </div>
        <hr>
        <div class="offcanvas-body">
            <ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small">
                <li><label for="Brightness" class="form-label">Brightness</label>
                    <input type="range" class="form-range" name="Brightness" id="Brightness" min="1" max="10" value="{{edtval.brightness}}" step="0.5">
                </li>
                <li><label for="Contrast" class="form-label">Contrast</label>
                    <input type="range" class="form-range" name="Contrast" id="Contrast" min="-4" max="5" value="{{edtval.contrast}}" step="0.1">
                </li>
                <li>
                    <label for="Sharpness" class="form-label">Sharpness</label>
                    <input type="range" class="form-range" name="Sharpness" id="Sharpness" min="-4" max="5" value="{{edtval.sharpness}}" step="0.1">
                </li>

                <li><label for="Colour" class="form-label">Colour</label>
                    <input type="range" class="form-range" name="Colour" id="Colour" min="-4" max="5" value="{{edtval.colour}}" step="0.1">
                </li>

                <li>
                    <label for="Blur" class="form-label">Blur</label>
                    <input type="range" class="form-range" name="Blur" id="Blur" min="-4" max="5" value="{{edtval.blur}}" step="0.1">
                </li>

            </ul>
            <hr>
            <div class="accordion-item">
                <p class="accordion-header" id="headingAccount">
                    <button class="accordion-button" type="button" data-toggle="collapse" data-parent="#accordionExample" href="#collapseAccount" aria-expanded="true" aria-controls="collapseAccount">
                            <span style="color:black"> Account</span>
                                </button>
                </p>
                <div id="collapseAccount" class="accordion-collapse collapse" aria-labelledby="headingAccount" data-bs-parent="#accordionExample">
                    <div class="accordion-body">
                        <ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small">
                            <li><a href="#" class="link-dark rounded">New...</a></li>
                            <li><a href="#" class="link-dark rounded">Profile</a></li>
                            <li><a href="#" class="link-dark rounded">Settings</a></li>
                            <li><a href="/logout/admins" class="link-dark rounded">Sign out</a></li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="d-grid gap-2">
                <button type="button" class="btn btn-outline-dark" onclick="downloadImg()">Download</button>
            </div>
        </div>
    </div>

    <div class="container" style="height:90vh;width:40%;margin-top:5vh;">
        {% if main=='0' %}
        <img src="{{ url_for('static',filename='/editImg/back.jpg') }}" height="100%" width="100%" class="card-img" alt="..."> {% else %}
        <span id="spanImg">
        <img src="{{ url_for('static',filename='/editImg/result.png') }}" height="100%" width="100%" class="card-img" alt="..."> 
    </span> {% endif %}</div>


    <script>
        let Brightness = document.getElementById("Brightness");
        let Contrast = document.getElementById("Contrast");
        let Sharpness = document.getElementById("Sharpness");
        let Colour = document.getElementById("Colour");
        let Blur = document.getElementById("Blur");
        let spanImg = document.getElementById("spanImg");
        Brightness.addEventListener("input", () => {
            console.log(Brightness.value);
            fetch(`/editProp/Brightness/${Brightness.value}`).then(Response => Response.text().then(data => {
                spanImg.innerHTML = `<img src="{{ url_for('static',filename='/editImg/result.png') }}" height="100%" width="100%" class="card-img" alt="...">`;
                window.location.assign(`/editor/1/${Brightness.value}`);

            }));
        });
        Blur.addEventListener("input", () => {
            console.log(Blur.value);
            fetch(`/editProp/Blur/${Blur.value}`).then(Response => Response.text().then(data => {
                spanImg.innerHTML = `<img src="{{ url_for('static',filename='/editImg/result.png') }}" height="100%" width="100%" class="card-img" alt="...">`;
                window.location.assign(`/editor/5/${Blur.value}`);

            }));
        });
        Contrast.addEventListener("input", () => {
            console.log(Contrast.value);
            fetch(`/editProp/Contrast/${Contrast.value}`).then(Response => Response.text().then(data => {
                spanImg.innerHTML = `<img src="{{ url_for('static',filename='/editImg/result.png') }}" height="100%" width="100%" class="card-img" alt="...">`;
                window.location.assign(`/editor/2/${Contrast.value}`);

            }));
        });
        Colour.addEventListener("input", () => {
            console.log(Colour.value);
            fetch(`/editProp/Colour/${Colour.value}`).then(Response => Response.text().then(data => {
                spanImg.innerHTML = `<img src="{{ url_for('static',filename='/editImg/result.png') }}" height="100%" width="100%" class="card-img" alt="...">`;
                window.location.assign(`/editor/4/${Colour.value}`);

            }));
        });
        Sharpness.addEventListener("input", () => {
            console.log(Sharpness.value);
            fetch(`/editProp/Sharpness/${Sharpness.value}`).then(Response => Response.text().then(data => {
                spanImg.innerHTML = `<img src="{{ url_for('static',filename='/editImg/result.png') }}" height="100%" width="100%" class="card-img" alt="...">`;
                window.location.assign(`/editor/3/${Sharpness.value}`);

            }));
        });


        function downloadImg() {

            let a = document.createElement('a');
            a.href = "/static/editImg/result.png";
            a.download = "Design.png";
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
        }
    </script>





    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js " integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p " crossorigin="anonymous "></script>

    <!-- Option 2: Separate Popper and Bootstrap JS -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js " integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB " crossorigin="anonymous "></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js " integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13 " crossorigin="anonymous "></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.min.js" integrity="sha384-Atwg2Pkwv9vp0ygtn1JAojH0nYbwNJLPhwyoVbhoPwBhjQPR5VtM2+xf0Uwh9KtT" crossorigin="anonymous">
    </script>
</body>

</html>